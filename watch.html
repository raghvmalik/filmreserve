<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FilmReserve - Watch</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background-color: #000;
      font-family: Arial, sans-serif;
      color: white;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    .navbar {
      background-color: #111;
      opacity: 0.9;
      padding: 15px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 999;
    }
    .navbar a {
      text-decoration: none;
      color: #ccc;
    }
    .watch-container {
      flex: 1;
      margin-top: 80px;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    .player-wrapper {
      background: #000;
      border: 2px solid rgba(0, 174, 255, 0.3);
      box-shadow: 0 0 12px rgba(0, 174, 255, 0.5);
      border-radius: 12px;
      width: 95%;
      max-width: 1280px;
      position: relative;
      overflow: hidden;
    }
    video {
      width: 100%;
      height: auto;
      display: block;
      background: #000;
    }
    .controls {
      display: flex;
      align-items: center;
      padding: 6px 10px;
      background-color: #111;
    }
    .controls button, .controls select {
      background: none;
      border: none;
      color: #ccc;
      cursor: pointer;
      margin: 0 5px;
      font-size: 16px;
    }
    .controls button:hover, .controls select:hover {
      color: #00baff;
    }
    .timer {
      font-size: 14px;
      margin: 0 10px;
      color: #aaa;
    }
    .seekbar {
      flex: 1;
      margin: 0 10px;
      height: 6px;
      appearance: none;
      background: #444;
      border-radius: 5px;
      outline: none;
    }
    .seekbar::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      background: #00baff;
      border-radius: 50%;
      cursor: pointer;
    }
    .footer {
      background-color: #000;
      color: #ccc;
      text-align: center;
      font-size: 14px;
      padding: 12px;
      margin-top: auto;
    }
    video::cue {
      background: transparent;
      color: #fff;
    }
    :-webkit-full-screen .player-wrapper,
    :-moz-full-screen .player-wrapper,
    :-ms-fullscreen .player-wrapper,
    :fullscreen .player-wrapper {
      width: 100% !important;
      height: 100% !important;
    }
  </style>
</head>
<body>

<div class="navbar">
  <a href="index.html">ðŸŽ¬ FilmReserve</a>
</div>

<div class="watch-container">
  <div class="player-wrapper">
    <video id="moviePlayer" poster="">
      <source id="videoSource" src="" type="video/mp4" />
    </video>

    <div class="controls">
      <button id="mute">ðŸ”Š</button>
      <span class="timer" id="time">0:00 / 0:00</span>
      <input type="range" id="seekbar" class="seekbar" value="0" />
      <button id="zoom" class="zoom-btn">â›¶</button>
    </div>
  </div>

  <h1 id="movieTitle" style="margin-top: 15px;">Movie Title</h1>

  <footer class="footer">
    FilmReserve | Enjoy the full movie experience
  </footer>
</div>

<script>
  const video = document.getElementById('moviePlayer');
  const source = document.getElementById('videoSource');
  const muteBtn = document.getElementById('mute');
  const seekbar = document.getElementById('seekbar');
  const timeDisplay = document.getElementById('time');
  const zoomBtn = document.getElementById('zoom');
  const movieTitle = document.getElementById('movieTitle');
  const params = new URLSearchParams(window.location.search);
  const movieKey = params.get('movie');

  if (movieKey && watchData[movieKey.toLowerCase()]) {
    const movie = watchData[movieKey.toLowerCase()];
    source.src = movie.src;
    video.poster = movie.poster;
    movieTitle.textContent = movie.title;
    video.load();
  }

  video.addEventListener('loadedmetadata', () => {
    if (isFinite(video.duration)) {
      timeDisplay.textContent = formatTime(0) + ' / ' + formatTime(video.duration);
      seekbar.value = 0;
    }
  });

  video.addEventListener('timeupdate', () => {
    timeDisplay.textContent = formatTime(video.currentTime) + ' / ' + formatTime(video.duration);
    seekbar.value = (video.currentTime / video.duration) * 100;
  });

  seekbar.addEventListener('input', () => {
    video.currentTime = (seekbar.value / 100) * video.duration;
  });

  muteBtn.addEventListener('click', () => {
    video.muted = !video.muted;
    muteBtn.textContent = video.muted ? 'ðŸ”‡' : 'ðŸ”Š';
  });

  zoomBtn.addEventListener('click', () => {
    if (!document.fullscreenElement) {
      video.parentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  });

  video.addEventListener('click', () => {
    video.paused ? video.play() : video.pause();
  });

  document.addEventListener('keydown', e => {
    if (e.key === ' ') {
      e.preventDefault();
      video.paused ? video.play() : video.pause();
    }
    if (e.key.toLowerCase() === 'm') muteBtn.click();
    if (e.key.toLowerCase() === 'f') zoomBtn.click();
    if (e.key === 'ArrowRight') video.currentTime += 5;
    if (e.key === 'ArrowLeft') video.currentTime -= 5;
  });

  function formatTime(sec) {
    const m = Math.floor(sec / 60);
    const s = Math.floor(sec % 60).toString().padStart(2, '0');
    return `${m}:${s}`;
  }
</script>

</body>
</html>
